import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r as d,o as r,c as t,a as e,b as a,e as i,f as c}from"./app-5e66abc2.js";const l={},o=c(`<h1 id="安裝-nginx" tabindex="-1"><a class="header-anchor" href="#安裝-nginx" aria-hidden="true">#</a> 安裝 Nginx</h1><h2 id="安裝-網頁伺服器-nginx" tabindex="-1"><a class="header-anchor" href="#安裝-網頁伺服器-nginx" aria-hidden="true">#</a> 安裝 網頁伺服器 Nginx</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="預設路徑" tabindex="-1"><a class="header-anchor" href="#預設路徑" aria-hidden="true">#</a> 預設路徑</h2><ul><li><code>/usr/sbin/nginx</code>：主程式</li><li><code>/etc/nginx</code>：設定文件</li><li><code>/usr/share/nginx</code>：靜態文件</li><li><code>/var/log/nginx</code>：日誌</li></ul><h2 id="設定-nginx" tabindex="-1"><a class="header-anchor" href="#設定-nginx" aria-hidden="true">#</a> 設定 Nginx</h2><p>nginx 設定可以至 /etc/nginx/site-available/ 這個資料夾內的 default 進行設定，<br> 通常一台機器內若有架設多個網站，可以利用多個設定檔方便區分不同網域或服務。</p><h3 id="預設設定檔的路徑" tabindex="-1"><a class="header-anchor" href="#預設設定檔的路徑" aria-hidden="true">#</a> 預設設定檔的路徑</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/etc/nginx/sites-available/default
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="複製預設設定檔的路徑" tabindex="-1"><a class="header-anchor" href="#複製預設設定檔的路徑" aria-hidden="true">#</a> 複製預設設定檔的路徑</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> /etc/nginx/sites-available/default /etc/nginx/sites-available/webname
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="設定完成後-需要將這個設定檔連結至-site-enabled" tabindex="-1"><a class="header-anchor" href="#設定完成後-需要將這個設定檔連結至-site-enabled" aria-hidden="true">#</a> 設定完成後，需要將這個設定檔連結至 site-enabled</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> /etc/nginx/sites-available/webname /etc/nginx/sites-enabled/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="確認-nginx-是否連接成功" tabindex="-1"><a class="header-anchor" href="#確認-nginx-是否連接成功" aria-hidden="true">#</a> 確認 Nginx 是否連接成功</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> nginx <span class="token parameter variable">-t</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="得到這個消息後便可重啟-nginx" tabindex="-1"><a class="header-anchor" href="#得到這個消息後便可重啟-nginx" aria-hidden="true">#</a> 得到這個消息後便可重啟 Nginx</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>	nginx: the configuration <span class="token function">file</span> /etc/nginx/nginx.conf syntax is ok
	nginx: configuration <span class="token function">file</span> /etc/nginx/nginx.conf <span class="token builtin class-name">test</span> is successful
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="重新讀取-nginx-設定文件" tabindex="-1"><a class="header-anchor" href="#重新讀取-nginx-設定文件" aria-hidden="true">#</a> 重新讀取 Nginx 設定文件</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> nginx reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="重啟-nginx-伺服器" tabindex="-1"><a class="header-anchor" href="#重啟-nginx-伺服器" aria-hidden="true">#</a> 重啟 Nginx 伺服器</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> nginx restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="權限問題" tabindex="-1"><a class="header-anchor" href="#權限問題" aria-hidden="true">#</a> 權限問題</h3><p>如果 /var/log/nginx/error.log 出現 stat() failed (13: permission denied) 的錯誤訊息<br> 代表 nginx 無法正常 cd 至專案目錄<br> 解決方法參考如下：</p><p>根據 /etc/nginx/nginx.conf 設定，<br> nginx 預設使用者為 www-data，<br> 故需要將指定使用者加入 www-data 群組。</p><pre><code>sudo gpasswd -a www-data username
</code></pre><p>並確保用戶群組可以進入路徑中的所有目錄</p><pre><code>sudo chmod g+x /home/pamis &amp;&amp; chmod g+x /home/pamis/test
</code></pre><p>設定完畢後重啟伺服器</p><h1 id="參考資料" tabindex="-1"><a class="header-anchor" href="#參考資料" aria-hidden="true">#</a> 參考資料</h1><h5 id="nginx-stat-failed-13-permission-denied" tabindex="-1"><a class="header-anchor" href="#nginx-stat-failed-13-permission-denied" aria-hidden="true">#</a> Nginx: stat() failed (13: permission denied)</h5>`,30),h={href:"https://gist.github.com/windsting/038858d2c41f442a00669f901c550b5c",target:"_blank",rel:"noopener noreferrer"},u=e("h5",{id:"chmod-指令補充",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#chmod-指令補充","aria-hidden":"true"},"#"),a(" Chmod 指令補充")],-1),g={href:"https://zh.wikipedia.org/zh-tw/Chmod",target:"_blank",rel:"noopener noreferrer"};function p(b,x){const n=d("ExternalLinkIcon");return r(),t("div",null,[o,e("p",null,[e("a",h,[a("https://gist.github.com/windsting/038858d2c41f442a00669f901c550b5c"),i(n)])]),u,e("p",null,[e("a",g,[a("https://zh.wikipedia.org/zh-tw/Chmod"),i(n)])])])}const f=s(l,[["render",p],["__file","index.html.vue"]]);export{f as default};
