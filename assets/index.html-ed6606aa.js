import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r as e,o as t,c as l,a,b as p,e as c,f as i}from"./app-6c34ed1d.js";const o={},r=i(`<h1 id="自簽憑證" tabindex="-1"><a class="header-anchor" href="#自簽憑證" aria-hidden="true">#</a> 自簽憑證</h1><h2 id="安裝-openssl-工具" tabindex="-1"><a class="header-anchor" href="#安裝-openssl-工具" aria-hidden="true">#</a> 安裝 OpenSSL 工具</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openssl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="使用-openssl-建立自簽憑證" tabindex="-1"><a class="header-anchor" href="#使用-openssl-建立自簽憑證" aria-hidden="true">#</a> 使用 OpenSSL 建立自簽憑證</h2><p>基本上按照下列步驟，就一定能建立出合法的自簽憑證：</p><h3 id="建立-ssl-conf-設定檔" tabindex="-1"><a class="header-anchor" href="#建立-ssl-conf-設定檔" aria-hidden="true">#</a> 建立  <code>ssl.conf</code>  設定檔</h3><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">req</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">prompt</span> <span class="token punctuation">=</span> <span class="token value attr-value">no</span>
<span class="token key attr-name">default_md</span> <span class="token punctuation">=</span> <span class="token value attr-value">sha256</span>
<span class="token key attr-name">default_bits</span> <span class="token punctuation">=</span> <span class="token value attr-value">2048</span>
<span class="token key attr-name">distinguished_name</span> <span class="token punctuation">=</span> <span class="token value attr-value">dn</span>
<span class="token key attr-name">x509_extensions</span> <span class="token punctuation">=</span> <span class="token value attr-value">v3_req</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">dn</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">C</span> <span class="token punctuation">=</span> <span class="token value attr-value">TW</span>
<span class="token key attr-name">ST</span> <span class="token punctuation">=</span> <span class="token value attr-value">Taiwan</span>
<span class="token key attr-name">L</span> <span class="token punctuation">=</span> <span class="token value attr-value">Taipei</span>
<span class="token key attr-name">O</span> <span class="token punctuation">=</span> <span class="token value attr-value">TCA</span>
<span class="token key attr-name">OU</span> <span class="token punctuation">=</span> <span class="token value attr-value">IT Department</span>
<span class="token key attr-name">emailAddress</span> <span class="token punctuation">=</span> <span class="token value attr-value">tca@example.com</span>
<span class="token key attr-name">CN</span> <span class="token punctuation">=</span> <span class="token value attr-value">localhost</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">v3_req</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">subjectAltName</span> <span class="token punctuation">=</span> <span class="token value attr-value">@alt_names</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">alt_names</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">DNS.1</span> <span class="token punctuation">=</span> <span class="token value attr-value">*.localhost</span>
<span class="token key attr-name">DNS.2</span> <span class="token punctuation">=</span> <span class="token value attr-value">localhost</span>
<span class="token key attr-name">IP.1</span> <span class="token punctuation">=</span> <span class="token value attr-value">192.168.100.87</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="透過-openssl-命令產生出自簽憑證與相對應的私密金鑰" tabindex="-1"><a class="header-anchor" href="#透過-openssl-命令產生出自簽憑證與相對應的私密金鑰" aria-hidden="true">#</a> 透過 OpenSSL 命令產生出自簽憑證與相對應的私密金鑰</h3><p>透過以下命令就可以建立出  <strong>私密金鑰</strong> (<code>server.key</code>) 與  <strong>憑證檔案</strong> (<code>server.crt</code>)：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>openssl req <span class="token parameter variable">-x509</span> <span class="token parameter variable">-new</span> <span class="token parameter variable">-nodes</span> <span class="token parameter variable">-sha256</span> <span class="token parameter variable">-utf8</span> <span class="token parameter variable">-days</span> <span class="token number">3650</span> <span class="token parameter variable">-newkey</span> rsa:2048 <span class="token parameter variable">-keyout</span> server.key <span class="token parameter variable">-out</span> server.crt <span class="token parameter variable">-config</span> ssl.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="匯入自簽憑證" tabindex="-1"><a class="header-anchor" href="#匯入自簽憑證" aria-hidden="true">#</a> 匯入自簽憑證</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">cp</span> server.crt /usr/local/share/ca-certificates/
<span class="token function">sudo</span> update-ca-certificates
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="參考資料" tabindex="-1"><a class="header-anchor" href="#參考資料" aria-hidden="true">#</a> 參考資料</h1>`,13),d={href:"https://blog.miniasp.com/post/2019/02/25/Creating-Self-signed-Certificate-using-OpenSSL",target:"_blank",rel:"noopener noreferrer"};function u(v,k){const n=e("ExternalLinkIcon");return t(),l("div",null,[r,a("p",null,[a("a",d,[p("https://blog.miniasp.com/post/2019/02/25/Creating-Self-signed-Certificate-using-OpenSSL"),c(n)])])])}const b=s(o,[["render",u],["__file","index.html.vue"]]);export{b as default};
