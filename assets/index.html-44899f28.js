import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as r,d as l,a as n,b as s,e,f as t}from"./app-55dd7f25.js";const p="/assets/2023-07-19-01-d5aba742.png",d="/assets/2023-07-19-02-1c01b53c.png",u="/assets/meme-01-27fe64f1.jpg",b="/assets/2023-07-19-03-7ee2861a.png",h="/assets/2023-07-19-04-c9332f7e.jpg",g="/assets/2023-07-19-05-271f5016.jpg",m="/assets/2023-07-19-06-4e7552d8.png",k="/assets/2023-07-19-07-1a77372b.png",f="/assets/meme-02-84eaea1e.jpg",v="/assets/2023-07-19-08-f8793880.png",_="/assets/2023-07-19-09-4de73c3e.png",y="/assets/2023-07-19-10-5cdbb6e2.png",x="/assets/2023-07-19-11-4fc37b15.png",z="/assets/meme-04-dea02422.jpg",w="/assets/ci-cd-devops-cycle-4018283f.png",C="/assets/meme-03-9cbef8b4.jpg",G="/assets/meme-06-0787db41.jpg",V="/assets/2023-07-20-02-b7bee702.png",D="/assets/2023-07-20-03-ba94134a.png",j="/assets/2023-07-20-04-c896a873.png",q="/assets/2023-07-20-05-a15aa07c.png",P="/assets/2023-07-23-01-90c45b2b.png",E="/assets/2023-07-23-04-4ea50b35.png",H="/assets/2023-07-23-03-2543aa0a.png",I="/assets/2023-07-23-02-1bbd8576.png",A="/assets/2023-07-20-01-849d89b6.png",O={},N=n("h1",{id:"使用-github-actions-發佈-vite-專案到另一個存放庫",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#使用-github-actions-發佈-vite-專案到另一個存放庫","aria-hidden":"true"},"#"),s(" 使用 GitHub Actions 發佈 Vite 專案到另一個存放庫")],-1),Y=n("h2",{id:"前言",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#前言","aria-hidden":"true"},"#"),s(" 前言")],-1),L=n("p",null,[s("本篇文章會以發佈一個 Vite 專案為案例來介紹 GitHub Actions"),n("br"),s(" 目標是將一個 Vite 專案的原始碼放在私有的存放庫，"),n("br"),s(" 將打包後的靜態網站放在公開的存放庫。")],-1),S=t('<p>一般網路上的教學都是推送到同一個存放庫，<br> 使用手動或 GitHub Actions 另外開一個 gh-pages 分支，<br> 設定 Github Pages 抓取 gh-pages 分支來抓取靜態網站的內容。</p><p>但是當免費仔也是有代價的！<br> 如果要用 Github Pages 來發佈網站，<br> 要將整個存放庫公開或是掏出魔法小卡給微軟</p><figure><img src="'+p+'" alt="免費仔不公開就不能用" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">免費仔不公開就不能用</figcaption></figure><figure><img src="'+d+'" alt="微軟爸爸要錢的畫面" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">微軟爸爸要錢的畫面</figcaption></figure><p>要公開或是花錢二選一，那怎麼辦呢？<br> 小孩子才做選擇！我全都要！</p><figure><img src="'+u+'" alt="要公開或是花錢二選一，那怎麼辦呢？" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">要公開或是花錢二選一，那怎麼辦呢？</figcaption></figure><h2 id="事前準備" tabindex="-1"><a class="header-anchor" href="#事前準備" aria-hidden="true">#</a> 事前準備</h2><h3 id="建立存放庫" tabindex="-1"><a class="header-anchor" href="#建立存放庫" aria-hidden="true">#</a> 建立存放庫</h3><p>為了本次教學我們先在自己的 GitHub 建立兩個存放庫<br> 一個私有的放 Vite 專案原始碼<br> 一個公開的放 Vite 專案打包完畢的資料夾目錄</p><figure><img src="'+b+'" alt="建立兩個存放庫" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">建立兩個存放庫</figcaption></figure><h3 id="建立-vite-專案" tabindex="-1"><a class="header-anchor" href="#建立-vite-專案" aria-hidden="true">#</a> 建立 Vite 專案</h3><p>建立 Vite 專案可以參考官方的教學文件</p>',12),B={href:"https://vitejs.dev/guide/",target:"_blank",rel:"noopener noreferrer"},K=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token function">npm</span> create vite@latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+h+`" alt="這邊選擇 Vue 專案為例" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">這邊選擇 Vue 專案為例</figcaption></figure><p>預覽專案</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token function">npm</span> run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>專案如果成功建置會出現這個範例畫面，<br> 咱們就直接拿初始專案來當範例 XD</p><figure><img src="`+g+'" alt="就直接用初始的樣子來做教學" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">就直接用初始的樣子來做教學</figcaption></figure><h3 id="路徑設定補充說明" tabindex="-1"><a class="header-anchor" href="#路徑設定補充說明" aria-hidden="true">#</a> 路徑設定補充說明</h3><p>因為剛剛我們的測試專案的存放命名是 <code>vite-demo</code>，<br> 在 Github Pages 發佈的網址規則會是 <code>https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;</code><br> 所以要在 Vite 專案設定基本路徑才能正確打包</p><figure><img src="'+m+'" alt="記得設定基本路徑" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">記得設定基本路徑</figcaption></figure>',9),T=n("br",null,null,-1),M={href:"https://vitejs.dev/guide/static-deploy.html#github-pages",target:"_blank",rel:"noopener noreferrer"},U=t('<h3 id="推送專案原始碼" tabindex="-1"><a class="header-anchor" href="#推送專案原始碼" aria-hidden="true">#</a> 推送專案原始碼</h3><p>把原始碼專案推送到遠端存放庫，<br> 喜歡用 VSCode 的版本控制工具推送，<br> 還是喜歡硬派 CLI 下命令都可以。</p><figure><img src="'+k+'" alt="反正就是推送到遠端存放庫就對了" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">反正就是推送到遠端存放庫就對了</figcaption></figure><p>到這邊我們已經完成事前準備了<br> 接下來開始準備著手打包後的專案</p><h2 id="發佈網站" tabindex="-1"><a class="header-anchor" href="#發佈網站" aria-hidden="true">#</a> 發佈網站</h2><h3 id="土法煉鋼" tabindex="-1"><a class="header-anchor" href="#土法煉鋼" aria-hidden="true">#</a> 土法煉鋼</h3><p>為了避免淪於不求甚解而照抄指令，<br> 所以先不直接進入主題。</p><p>一開始先從使用土法煉鋼來達成我們期望的目標，<br> 期望對於之後整個工作流程指令撰寫更清晰。</p><figure><img src="'+f+`" alt="按部就班比較好啦～" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">按部就班比較好啦～</figcaption></figure><h3 id="建置專案" tabindex="-1"><a class="header-anchor" href="#建置專案" aria-hidden="true">#</a> 建置專案</h3><p>如果要發佈打包後的專案，<br> 最簡單的做法就是在原本的專案下命令建置專案，<br> 然後把打包後的目錄推送到公開的存放庫。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token function">npm</span> run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>執行建置命令打包專案後會出現 <code>dist</code> 資料夾目錄</p><figure><img src="`+v+'" alt="左邊黃框的就是要被發佈的專案目錄" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">左邊黃框的就是要被發佈的專案目錄</figcaption></figure>',14),R=n("br",null,null,-1),X={href:"https://vitejs.dev/guide/static-deploy.html#building-the-app",target:"_blank",rel:"noopener noreferrer"},$=t('<h3 id="推送打包後的專案目錄" tabindex="-1"><a class="header-anchor" href="#推送打包後的專案目錄" aria-hidden="true">#</a> 推送打包後的專案目錄</h3><p>直接將 <code>dist</code> 資料夾目錄推送到公開的存放庫，<br> 要用 GUI 介面或 CLI 介面都可以。</p><figure><img src="'+_+'" alt="把目錄推送上去就像這樣" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">把目錄推送上去就像這樣</figcaption></figure><h3 id="設定-github-pages-的對應分支" tabindex="-1"><a class="header-anchor" href="#設定-github-pages-的對應分支" aria-hidden="true">#</a> 設定 Github Pages 的對應分支</h3><p>到發佈專案的存放庫設定 Github Pages<br> 點進綠框的 Pages 分頁<br> 在紅框的設定要抓取的分支後存檔<br> 稍待片刻就會看到黃框的超連結</p><figure><img src="'+y+'" alt="Github Pages 設定畫面" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">Github Pages 設定畫面</figcaption></figure><figure><img src="'+x+'" alt="成功了就會看到網站囉" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">成功了就會看到網站囉</figcaption></figure><h3 id="段落小結" tabindex="-1"><a class="header-anchor" href="#段落小結" aria-hidden="true">#</a> 段落小結</h3><p>上面的步驟是手動的方式來部屬專案，<br> 每次改好網站都要重複上面的步驟，<br> 推送原始碼到遠端存放庫之後，<br> 還要記得把打包後的目錄推送到另一個存放庫<br> 久了還是很麻煩，甚至可能會忘記。</p><p>如果能把剛剛的土法煉鋼手工活自動執行，<br> 當原始碼更新完畢後自動打包專案並發佈在公開存放庫，<br> 那這樣就太好了。</p><figure><img src="'+z+'" alt="接下來就快要進入重點了" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">接下來就快要進入重點了</figcaption></figure><h2 id="github-actions" tabindex="-1"><a class="header-anchor" href="#github-actions" aria-hidden="true">#</a> GitHub Actions</h2><h3 id="ci-cd-與-devops" tabindex="-1"><a class="header-anchor" href="#ci-cd-與-devops" aria-hidden="true">#</a> CI/CD 與 DevOps</h3><p>要談到 GitHub Actions 之前要先簡單談談 CI/CD</p><p>當大家去 Google 關鍵字常常看到像這樣的圖</p>',15),J=n("img",{src:w,alt:"取自網路(https://devopspage.com/what-is-ci-cd-in-devops-world/)",tabindex:"0",loading:"lazy"},null,-1),F={href:"https://devopspage.com/what-is-ci-cd-in-devops-world/",target:"_blank",rel:"noopener noreferrer"},Q=t('<p>其中以下 CI/CD 指的是以下兩點</p><ul><li>CI（Continuous Integration）持續整合</li><li>CD（Continuous Deployment）持續部署</li></ul><p>這是目前軟體開發領域的重要精神，<br> 將 「規劃、開發、建置、測試、發佈、運作、監控」這些頻繁且重複的工作用工具或服務來自動化。<br> 確保開發環境的一致性，也能減少測試的時間成本，進而提升軟體品質，<br> 通常會是由 <code>DevOps</code> 來負責建置這樣的開發環境。</p><figure><img src="'+C+'" alt="關於CI/CD有很多東西能講" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">關於CI/CD有很多東西能講</figcaption></figure><h3 id="基本介紹" tabindex="-1"><a class="header-anchor" href="#基本介紹" aria-hidden="true">#</a> 基本介紹</h3><p>終於來到今天的重點了！！<br> 所以 GitHub Actions 是什麼呢？<br> 其實就是 Github 提供的 CI/CD 自動化服務，<br> 也就是把剛剛土法煉鋼的手動行為變自動執行，</p><p>這邊要強調的是 CI/CD 只是一個軟體開發觀念，<br> GitHub Actions 也只是其中一項工具，<br> 例如外面許多公司都會用 Jenkins 來做部屬，<br> 甚至即便寫 bash 腳本也是可行的一種方案(雖然就現在來看是滿辛苦的)。</p><figure><img src="'+G+'" alt="就是流程自動化啦～" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">就是流程自動化啦～</figcaption></figure><h3 id="官方文件" tabindex="-1"><a class="header-anchor" href="#官方文件" aria-hidden="true">#</a> 官方文件</h3><p>要知道如何撰寫自動化腳本要先看看官方文件。</p>',10),W={href:"https://docs.github.com/actions",target:"_blank",rel:"noopener noreferrer"},Z=t('<p>雖然右上角有中文翻譯，<br> 但我猜很多人不可能真的去看完(因為我也是 XD)，<br> 所以這邊直接講重點。</p><h3 id="如何建立" tabindex="-1"><a class="header-anchor" href="#如何建立" aria-hidden="true">#</a> 如何建立</h3><p>這裡提供兩種方法，大家可以挑自己喜歡的方式。</p><h4 id="在-vscode-上建立" tabindex="-1"><a class="header-anchor" href="#在-vscode-上建立" aria-hidden="true">#</a> 在 VSCode 上建立</h4><p>一種是從 VSCode 自己建立<br> 官方文件中的快速入門也是這個方法<br> 在專案目錄建立資料夾 <code>.github/workflows</code>，並建立一個副檔名為 <code>yml</code> 的檔案。<br> 本次範例我們就建立一個 <code>lgithub-actions-demo.ym</code></p><h4 id="在-github-上建立" tabindex="-1"><a class="header-anchor" href="#在-github-上建立" aria-hidden="true">#</a> 在 GitHub 上建立</h4><p>在 GitHub 上也是可以直接編輯程式碼並送交，<br> 如果要在 GitHub 上建立自動化流程也是可行的做法，<br> 線上做的好處就是有一些範本可以直接拿來參考，<br> 這邊把圖文步驟放上來。</p><p>點擊紅框的選單<code>Actions</code> 的選單</p><figure><img src="'+V+'" alt="然後會看到下面的畫面" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">然後會看到下面的畫面</figcaption></figure><p>可以選下面的範本或是紅框處自己建立</p><figure><img src="'+D+'" alt="這邊先選自己建立的" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">這邊先選自己建立的</figcaption></figure><p>然後就會進入編輯畫面了，檔名可以自己定義。</p>',12),nn=n("br",null,null,-1),sn=n("br",null,null,-1),an=n("br",null,null,-1),en={href:"https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsuses",target:"_blank",rel:"noopener noreferrer"},tn=n("figure",null,[n("img",{src:j,alt:"右邊的腳本範例可以直接使用來簡化指令",tabindex:"0",loading:"lazy"}),n("figcaption",{style:{"font-size":"1rem"}},"右邊的腳本範例可以直接使用來簡化指令")],-1),on=n("br",null,null,-1),cn={href:"https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions",target:"_blank",rel:"noopener noreferrer"},rn=n("figure",null,[n("img",{src:q,alt:"鳩甘心欸～",tabindex:"0",loading:"lazy"}),n("figcaption",{style:{"font-size":"1rem"}},"鳩甘心欸～")],-1),ln=n("h3",{id:"撰寫建議",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#撰寫建議","aria-hidden":"true"},"#"),s(" 撰寫建議")],-1),pn=n("p",null,"撰寫自動化指令的建議順序如下：",-1),dn={href:"https://github.com/actions",target:"_blank",rel:"noopener noreferrer"},un={href:"https://github.com/marketplace?category=&query=&type=actions",target:"_blank",rel:"noopener noreferrer"},bn={href:"https://vitejs.dev/guide/static-deploy.html",target:"_blank",rel:"noopener noreferrer"},hn=n("li",null,"真的都沒有才自己動手寫。",-1),gn=n("h3",{id:"撰寫範例",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#撰寫範例","aria-hidden":"true"},"#"),s(" 撰寫範例")],-1),mn=n("br",null,null,-1),kn=n("br",null,null,-1),fn={href:"https://github.com/cpina/github-action-push-to-another-repository",target:"_blank",rel:"noopener noreferrer"},vn=t(`<div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># workflow 名稱</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy Vite Project To Vite Page

<span class="token comment"># 設定觸發條件</span>
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token comment"># 當推送 main 分支</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;main&quot;</span><span class="token punctuation">]</span>

  <span class="token comment"># 為了方便線上測試允許手動執行 workflow</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token comment"># 修改授予 GITHUB_TOKEN 的預設權限，根據需要新增或刪除訪問權限，以便只授予所需的最低訪問權限</span>
<span class="token key atrule">permissions</span><span class="token punctuation">:</span>
  <span class="token key atrule">contents</span><span class="token punctuation">:</span> write
  <span class="token key atrule">pages</span><span class="token punctuation">:</span> write
  <span class="token key atrule">id-token</span><span class="token punctuation">:</span> write

<span class="token comment"># 設定同時併發的處理</span>
<span class="token key atrule">concurrency</span><span class="token punctuation">:</span>
  <span class="token key atrule">group</span><span class="token punctuation">:</span> <span class="token string">&quot;pages&quot;</span>
  <span class="token key atrule">cancel-in-progress</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token comment"># 要執行的工作描述</span>
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">deploy-vite-page</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy To Vite Page
    <span class="token comment"># 定義要運行作業的計算機類型。</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token comment"># 定義各項工作的步驟順序</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token comment"># 簽出分支</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3

        <span class="token comment"># 下載與設定 Node.js</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Set up Node
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># 指定下載的版本</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token number">18</span>
          <span class="token comment"># 用於指定套件管理器在預設目錄中進行暫存</span>
          <span class="token key atrule">cache</span><span class="token punctuation">:</span> <span class="token string">&quot;npm&quot;</span>

      <span class="token comment"># 透過 Node.js 安裝前端套件</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install

      <span class="token comment"># 建置專案</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run build

      <span class="token comment"># 將建置目錄放置到另一個存儲庫</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy To Other Oepository
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> cpina/github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>push<span class="token punctuation">-</span>to<span class="token punctuation">-</span>another<span class="token punctuation">-</span>repository@main
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token comment"># 公鑰變數名稱</span>
          <span class="token key atrule">SSH_DEPLOY_KEY</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.DEPLOY_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">source-directory</span><span class="token punctuation">:</span> <span class="token string">&quot;dist/&quot;</span>
          <span class="token comment"># 存放庫的使用者名稱</span>
          <span class="token key atrule">destination-github-username</span><span class="token punctuation">:</span> <span class="token string">&quot;pamiswang&quot;</span>
          <span class="token comment"># 存放庫的專案名稱</span>
          <span class="token key atrule">destination-repository-name</span><span class="token punctuation">:</span> <span class="token string">&quot;vite-demo&quot;</span>
          <span class="token key atrule">user-name</span><span class="token punctuation">:</span> <span class="token string">&quot;Example&quot;</span>
          <span class="token key atrule">user-email</span><span class="token punctuation">:</span> <span class="token string">&quot;example@gmail.com&quot;</span>
          <span class="token key atrule">target-branch</span><span class="token punctuation">:</span> <span class="token string">&quot;main&quot;</span>
          <span class="token comment"># 如果推送分支不存在就建立分支</span>
          <span class="token key atrule">create-target-branch-if-needed</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="設定權限" tabindex="-1"><a class="header-anchor" href="#設定權限" aria-hidden="true">#</a> 設定權限</h2><p>如果直接執行會出現以下錯誤<br> 因為沒有設定公鑰私鑰發生權限不足導致推送失敗</p><figure><img src="`+P+'" alt="逼逼！爆炸惹" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">逼逼！爆炸惹</figcaption></figure><h3 id="新增私鑰" tabindex="-1"><a class="header-anchor" href="#新增私鑰" aria-hidden="true">#</a> 新增私鑰</h3><p>存放庫的設定選單，並在側邊選單選擇 <code>Secrets and variables</code> 內的 <code>Actions</code><br> 變數名稱要和上面工作流程的變數 <code>${{ secrets.DEPLOY_KEY }}</code> 相同，<br> 所以標題要命名為 <code>DEPLOY_KEY</code>。</p><figure><img src="'+E+'" alt="原始專案存放庫" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">原始專案存放庫</figcaption></figure><figure><img src="'+H+'" alt="打包後的靜態網站存放庫" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">打包後的靜態網站存放庫</figcaption></figure><h3 id="新增公鑰" tabindex="-1"><a class="header-anchor" href="#新增公鑰" aria-hidden="true">#</a> 新增公鑰</h3><p>由於跨倉庫，所以要把公鑰貼在要部屬的存放庫，<br> 這樣才有推送到目的地存放庫的權限，<br> 存放庫的設定選單，並在側邊選單選擇 <code>Deploy keys</code><br> 標題一樣要命名為 <code>DEPLOY_KEY</code>。</p><figure><img src="'+I+'" alt="打包後的靜態網站存放庫" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">打包後的靜態網站存放庫</figcaption></figure><h3 id="使用限制" tabindex="-1"><a class="header-anchor" href="#使用限制" aria-hidden="true">#</a> 使用限制</h3><p>免費仔還是有些限制的，<br> 公開專案不受限制，<br> 私有專案有每個月免費的時間額度，<br> 不過一般私人使用也用不太到這種用量。</p><figure><img src="'+A+'" alt="還是微軟爸爸要錢的畫面" tabindex="0" loading="lazy"><figcaption style="font-size:1rem;">還是微軟爸爸要錢的畫面</figcaption></figure>',14);function _n(yn,xn){const a=o("ExternalLinkIcon");return c(),r("div",null,[N,Y,L,l(" more "),S,n("p",null,[n("a",B,[s("Vite 官方專案建置教學"),e(a)])]),K,n("p",null,[s("官方的路徑設定相關教學"),T,n("a",M,[s("GitHub Pages base"),e(a)])]),U,n("p",null,[s("官方的打包相關教學"),R,n("a",X,[s("GitHub Pages Building the App"),e(a)])]),$,n("figure",null,[J,n("figcaption",null,[s("取自網路("),n("a",F,[s("https://devopspage.com/what-is-ci-cd-in-devops-world/"),e(a)]),s(")")])]),Q,n("p",null,[n("a",W,[s("GitHub Actions documentation"),e(a)])]),Z,n("p",null,[s("右邊的 Marketplace 可以直接使用來簡化指令，"),nn,s(" 主要是一些可重複使用的指令，例如簽出程式碼、發佈檔案到指定分支，"),sn,s(" 透過一些參數設定可以更輕鬆完成自動化。"),an,s(" 關於可複用指令的官方介紹可以看 "),n("a",en,[s("jobs.<job_id>.steps[*].uses"),e(a)])]),tn,n("p",null,[s("右邊還有一些片段的語法可以參考，但建議還是直接去官方文件看比較詳細。"),on,n("a",cn,[s("官方語法文件"),e(a)])]),rn,ln,pn,n("ol",null,[n("li",null,[s("使用"),n("a",dn,[s("官方提供的指令"),e(a)]),s("，點進去可以查看各個功能是否符合需求。")]),n("li",null,[s("使用 "),n("a",un,[s("Marketplace"),e(a)]),s(" 找別人寫好的。")]),n("li",null,[s("參考各框架的官方文件的範例，例如 "),n("a",bn,[s("Vite 的範例"),e(a)]),s("。")]),hn]),gn,n("p",null,[s("因為是 Vite 專案，所以參考官方的部屬範例，"),mn,s(" 後面跨存放庫推送則是使用其他人的 Actions，"),kn,s(" 相關的說明可以參考 "),n("a",fn,[s("cpina/github-action-push-to-another-repository"),e(a)])]),vn])}const Cn=i(O,[["render",_n],["__file","index.html.vue"]]);export{Cn as default};
