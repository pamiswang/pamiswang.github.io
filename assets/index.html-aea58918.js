import{_ as c}from"./plugin-vue_export-helper-c27b6911.js";import{r,o as u,c as h,a as n,b as e,e as s,d as p,w as a,f as b}from"./app-24572d8f.js";const _="/assets/meme-02-b1744c42.jpg",v={},m=n("h1",{id:"在-ubuntu-建構-laravel-開發環境",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#在-ubuntu-建構-laravel-開發環境","aria-hidden":"true"},"#"),e(" 在 Ubuntu 建構 Laravel 開發環境")],-1),f=n("h2",{id:"前言",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#前言","aria-hidden":"true"},"#"),e(" 前言")],-1),g={href:"https://laravel.com/docs/9.x/installation",target:"_blank",rel:"noopener noreferrer"},x=n("br",null,null,-1),k=n("p",null,[e("原因很簡單，因為透過容器化的方式可以確保開發環境條件單一，"),n("br"),e(" 比起在自己的系統逐一安裝伺服器、PHP、資料庫會有版本的差異，"),n("br"),e(" 也可能還有其他的依賴套件要安裝與設定，"),n("br"),e(" 為了寫個網站還要去掌握一堆知識技能點。"),n("br"),e(" 結果環境裝起來一個禮拜就先過去了 XDDD。")],-1),L=n("p",null,"(迷：但是用 Docker 也還是要具備不少知識儲備阿 XDDD)",-1),w=n("p",null,"不過這邊還是寫一下用 VMware 虛擬機建置 Ubuntu 作業系統的情境來建置一個 Laravel 開發環境。",-1),R=n("p",null,"從頭自己建置一次開發環境，對於一個網站是如何運作會更有概念。",-1),U=n("h2",{id:"先決條件",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#先決條件","aria-hidden":"true"},"#"),e(" 先決條件")],-1),P=n("p",null,"有兩個方式",-1),D=n("ul",null,[n("li",null,"使用實體機安裝 Linux 作業系統"),n("li",null,"使用虛擬機安裝 Linux 作業系統")],-1),N=n("h2",{id:"安裝步驟",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安裝步驟","aria-hidden":"true"},"#"),e(" 安裝步驟")],-1),y=n("h3",{id:"安裝-php",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安裝-php","aria-hidden":"true"},"#"),e(" 安裝 PHP")],-1),S=n("br",null,null,-1),E={href:"https://laravel.com/docs/10.x/releases",target:"_blank",rel:"noopener noreferrer"},$=n("br",null,null,-1),C=n("h3",{id:"安裝-composer",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安裝-composer","aria-hidden":"true"},"#"),e(" 安裝 Composer")],-1),H=n("p",null,"沒安裝 Composer 也就沒辦法用 Laravel 惹。",-1),M=n("h3",{id:"安裝-nginx",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安裝-nginx","aria-hidden":"true"},"#"),e(" 安裝 Nginx")],-1),V=n("p",null,[e("基於資安的考量，"),n("br"),e(" 會建議在正式環境用官網 Nginx 安裝的方式，"),n("br"),e(" 確保可以第一時間得到官方修補的版本。")],-1),A=n("br",null,null,-1),I=n("h3",{id:"安裝-node-js",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安裝-node-js","aria-hidden":"true"},"#"),e(" 安裝 Node.js")],-1),j=n("p",null,"雖然 Laravel 是後端框架，但是寫 MVC 架構的網站多少還是會用一些前端套件。",-1),q=n("h3",{id:"安裝資料庫",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安裝資料庫","aria-hidden":"true"},"#"),e(" 安裝資料庫")],-1),T=n("p",null,[e("這邊提供兩個資料庫的安裝教學，"),n("br"),e(" 建議如果是新手可以先從 MariaDB/MySQL 起步是比較簡單的。")],-1),X=n("p",null,[e("微軟爸爸的 SQL Server 牽涉到 Windows 作業系統，"),n("br"),e(" 如果要裝在 Linux 環境有限定版本，不然就是要用 Docker 。"),n("br"),e(" 為了不要造成太大的負擔就先跳過。")],-1),B=n("br",null,null,-1),G=n("h3",{id:"安裝-git",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安裝-git","aria-hidden":"true"},"#"),e(" 安裝 git")],-1),O=n("p",null,"為了更好管理程式碼與團隊協作。",-1),Q=n("figure",null,[n("img",{src:_,alt:"如果你打算這樣管理程式的版本就可以不用裝XD",tabindex:"0",loading:"lazy"}),n("figcaption",{style:{"font-size":"1rem"}},"如果你打算這樣管理程式的版本就可以不用裝XD")],-1),z=n("h3",{id:"安裝-github-desktop",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安裝-github-desktop","aria-hidden":"true"},"#"),e(" 安裝 GitHub Desktop")],-1),F=n("p",null,"如果安裝的 Ubuntu 是桌面版本，而且 git 是放在 GitHub 可以用看看。",-1),W={href:"https://gist.github.com/berkorbay/6feda478a00b0432d13f1fc0a50467f1",target:"_blank",rel:"noopener noreferrer"},J=n("h2",{id:"部署設定",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#部署設定","aria-hidden":"true"},"#"),e(" 部署設定")],-1),K={href:"https://laravel.com/docs/9.x/deployment",target:"_blank",rel:"noopener noreferrer"},Y=b(`<h3 id="參考範例" tabindex="-1"><a class="header-anchor" href="#參考範例" aria-hidden="true">#</a> 參考範例</h3><div class="language-conf line-numbers-mode" data-ext="conf"><pre class="language-conf"><code>server {
	# listen 設定這個 server 監聽的 port
    listen 80;
    listen [::]:80;
    server_name 127.0.0.1 ;
	# 將 root 視為一個入口，指到 Laravel 專案資料夾內的 public 資料夾
    root /home/pamis/apluspms-laravel/public;

    add_header X-Frame-Options &quot;SAMEORIGIN&quot;;
    add_header X-Content-Type-Options &quot;nosniff&quot;;

    index index.php;

    charset utf-8;
	# 將所有的請求都交給 Laravel 的路由去處理，因此如 404 的頁面都是交由 Laravel 處理
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }

    error_page 404 /index.php;
	# 所有 .php 的檔案交由 php-fpm 去做解析，注意對應的PHP版本
    location ~ \\.php$ {
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }

    location ~ /\\.(?!well-known).* {
        deny all;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="權限不足問題" tabindex="-1"><a class="header-anchor" href="#權限不足問題" aria-hidden="true">#</a> 權限不足問題</h3><p>Laravel log 權限不足會出現錯誤訊息，</p><p>需要透過指令取得目錄所有權。</p>`,5),Z=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token comment"},"# 指向專案目錄"),e(`
`),n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"chown"),e(),n("span",{class:"token parameter variable"},"-R"),e(),n("span",{class:"token environment constant"},"$USER"),e(`:www-data storage
`),n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"chown"),e(),n("span",{class:"token parameter variable"},"-R"),e(),n("span",{class:"token environment constant"},"$USER"),e(`:www-data bootstrap/cache
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),nn=n("p",null,"再設定目錄的訪問權限",-1),en=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"chmod"),e(),n("span",{class:"token parameter variable"},"-R"),e(),n("span",{class:"token number"},"775"),e(` storage
`),n("span",{class:"token function"},"chmod"),e(),n("span",{class:"token parameter variable"},"-R"),e(),n("span",{class:"token number"},"775"),e(` bootstrap/cache
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),sn=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token comment"},"# 指向專案目錄"),e(`
`),n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"chown"),e(),n("span",{class:"token parameter variable"},"-R"),e(),n("span",{class:"token environment constant"},"$USER"),e(`:nginx storage
`),n("span",{class:"token function"},"sudo"),e(),n("span",{class:"token function"},"chown"),e(),n("span",{class:"token parameter variable"},"-R"),e(),n("span",{class:"token environment constant"},"$USER"),e(`:nginx bootstrap/cache
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),an=n("p",null,"再設定目錄的訪問權限",-1),tn=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"chmod"),e(),n("span",{class:"token parameter variable"},"-R"),e(),n("span",{class:"token number"},"775"),e(` storage
`),n("span",{class:"token function"},"chmod"),e(),n("span",{class:"token parameter variable"},"-R"),e(),n("span",{class:"token number"},"775"),e(` bootstrap/cache
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1);function ln(on,rn){const i=r("ExternalLinkIcon"),t=r("RouterLink"),d=r("Tabs");return u(),h("div",null,[m,f,n("p",null,[e("基本上現在去看 Laravel 的官方文件"),n("a",g,[e("Installation"),s(i)]),e("，"),x,e(" 在建置開發環境的內容都是以容器化的方式為主。")]),k,L,w,R,p(" more "),U,P,D,n("p",null,[e("本篇教學"),s(t,{to:"/posts/2022-08-01-install-ubuntu-22.04/"},{default:a(()=>[e("使用 VMware 虛擬機建置 Ubuntu 作業系統")]),_:1})]),N,y,n("p",null,[e("這邊要根據自己使用的框架版本來選擇 PHP 的對應版本，"),S,e(" 版本對應列表可參照"),n("a",E,[e("官方發行筆記"),s(i)]),e("。")]),n("p",null,[s(t,{to:"/posts/2022-08-06-install-ubuntu-php-7/"},{default:a(()=>[e("在 Ubuntu 安裝 PHP 7")]),_:1}),$,s(t,{to:"/posts/2022-08-07-install-ubuntu-php-8/"},{default:a(()=>[e("在 Ubuntu 安裝 PHP 8")]),_:1})]),C,H,n("p",null,[s(t,{to:"/posts/2022-08-08-install-ubuntu-composer/"},{default:a(()=>[e("在 Ubuntu 安裝 Composer")]),_:1})]),M,V,n("p",null,[s(t,{to:"/posts/2022-08-02-install-ubuntu-nginx-by-apt/"},{default:a(()=>[e("在 Ubuntu 安裝 Nginx 伺服器（使用 APT 安裝）")]),_:1}),A,s(t,{to:"/posts/2022-08-04-install-ubuntu-nginx-by-official/"},{default:a(()=>[e("在 Ubuntu 安裝 Nginx 伺服器（官網 Nginx 安裝）")]),_:1})]),I,j,n("p",null,[s(t,{to:"/posts/2022-08-05-install-ubuntu-node-js/"},{default:a(()=>[e("在 Ubuntu 安裝 Node.js")]),_:1})]),q,T,X,n("p",null,[s(t,{to:"/posts/2022-08-13-install-ubuntu-mariadb/"},{default:a(()=>[e("在 Ubuntu 安裝 MariaDB 資料庫")]),_:1}),B,s(t,{to:"/posts/2023-04-18-install-ubuntu-postgresql/"},{default:a(()=>[e("在 Ubuntu 安裝 PostgreSQL 資料庫")]),_:1})]),G,O,n("p",null,[s(t,{to:"/posts/2022-12-16-setting-git/"},{default:a(()=>[e("安裝與設定 git")]),_:1})]),Q,z,F,n("p",null,[n("a",W,[e("github_desktop_ubuntu.sh"),s(i)])]),J,n("p",null,[e("參考 Laravel 9 官方文件 "),n("a",K,[e("Deployment"),s(i)])]),Y,s(d,{id:"134",data:[{id:"適用於 nginx 1.2x 以下"},{id:"適用於 nginx 1.2x 以上"}],active:0},{title0:a(({value:l,isActive:o})=>[e("適用於 nginx 1.2x 以下")]),title1:a(({value:l,isActive:o})=>[e("適用於 nginx 1.2x 以上")]),tab0:a(({value:l,isActive:o})=>[Z,nn,en]),tab1:a(({value:l,isActive:o})=>[sn,an,tn]),_:1})])}const un=c(v,[["render",ln],["__file","index.html.vue"]]);export{un as default};
